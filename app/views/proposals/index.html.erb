<% if headhunter_signed_in? %>
  <h1>Propostas enviadas</h1>
  <dl>
  <% @proposals.each do |proposal| %>
    <dt>Empresa:</dt>
    <dd><%= proposal.entry.vacancy.headhunter.name %></dd>
    <dt>Proposta enviada para:</dt>
    <dd><%= proposal.entry.candidate.profile.social_name %></dd>
    <dt>Data prevista para início:</dt>
    <dd><%= proposal.start_date.strftime('%d/%m/%Y') %></dd>
    <dt>Carga horária:</dt>
    <dd><%= proposal.workload %> </dd>
    <dt>Benefícios:</dt>
    <dd><%= proposal.benefits %> </dd>
    <dt>Salário:</dt>
    <dd><%= proposal.wage %></dd>
    <dt>Detalhes:</dt>
    <dd><%= proposal.details %></dd>
  <% end %>
  </dl>
<% end %>

<% if candidate_signed_in? %>
  <h1>Propostas recebidas</h1>
  <dl>
  <% @proposals.each do |proposal| %>
    <% if proposal.accepted? %>
      <dt>Status:</dt>
      <dd>Proposta aceita ✅</dd>
      <dt>Vaga:</dt>
      <dd><%= link_to proposal.entry.vacancy.title, entry_proposal_path(proposal, proposal.entry) %></dd>
      <dt>Empresa:</dt>
      <dd><%= proposal.entry.vacancy.headhunter.name %></dd>
      <% unless proposal.report.blank? %>
        <dt>Mensagem adicional:</dt>
        <dd><%= proposal.report.body %></dd>
      <% end %>
    <% elsif proposal.refused? %>
      <dt>Status:</dt>
      <dd>Proposta recusada ❌</dd>
      <dt>Vaga:</dt>
      <dd><%= link_to proposal.entry.vacancy.title, entry_proposal_path(proposal, proposal.entry) %></dd>
      <dt>Empresa:</dt>
      <dd><%= proposal.entry.vacancy.headhunter.name %></dd>
      <% unless proposal.report.blank? %>
        <dt>Mensagem adicional:</dt>
        <dd><%= proposal.report.body %></dd>
      <% end %>
    <% else %>
      <dt>Status:</dt>
      <dd>Aguardando sua resposta 💬</dd>
      <dt>Vaga:</dt>
      <dd><%= link_to proposal.entry.vacancy.title, entry_proposal_path(proposal, proposal.entry) %></dd>
      <dt>Empresa:</dt>
      <dd><%= proposal.entry.vacancy.headhunter.name %></dd>
    <% end %>
  <% end %>
  </dl>
<% end %>
